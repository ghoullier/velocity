!function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t){"use strict";t("./modules/common/module"),t("./modules/data/module"),t("./modules/data-view/module"),t("./modules/view/module")},{"./modules/common/module":3,"./modules/data-view/module":9,"./modules/data/module":14,"./modules/view/module":24}],2:[function(t,e){"use strict";function n(t){function e(e){t.log(e.name)}return{trace:e}}n.$inject=["$log"],e.exports=n},{}],3:[function(t,e){"use strict";var n=t("./provider/cache-storage"),o=t("./service/geolocation"),i=t("./factory/tracer");e.exports=angular.module("velocity.common",[]).provider("CacheStorage",n).service("Geolocation",o).factory("Tracer",i)},{"./factory/tracer":2,"./provider/cache-storage":4,"./service/geolocation":5}],4:[function(t,e){"use strict";function n(){var t=null;this.setStrategy=function(e){t=e},this.$get=function(e,n){function o(){c||(c=!0,e(function(){t.setItem(r,JSON.stringify(a)),c=!1},0))}function i(t){var e=t in a?a[t]:{},n=angular.extend({},{id:t});a[t]=e;var i={put:function(t,n){return e[t]=n,o(),n},get:function(t){return e[t]},remove:function(t){delete e[t],o()},removeAll:function(){e={},o()},destroy:function(){e=null,n=null,delete s[t],delete a[t],o()},info:function(){return angular.extend({},n)}};return s[t]=i,i}null===t&&this.setStrategy(n.localStorage);var r="ng:storage",a=t.getItem(r)?JSON.parse(t.getItem(r)):{},s={},c=!1;return i.info=function(){var t={};return angular.forEach(s,function(e,n){t[n]=e.info()}),t},i.get=function(t){return s[t]},i},this.$get.$inject=["$timeout","$window"]}e.exports=n},{}],5:[function(t,e){"use strict";function n(t,e){this.getCurrentPosition=function(){var n=t.defer();return e.navigator.geolocation.getCurrentPosition(n.resolve,n.reject),n.promise}}n.$inject=["$q","$window"],e.exports=n},{}],6:[function(t,e){"use strict";function n(t){return parseInt(t,10)}function o(t,e,o){function i(t){return t.data.opendata.answer.data.station}function r(t){return{id:t.number,latitude:t.latitude,longitude:t.longitude,name:t.name,totalslots:n(t.slotsavailable)+n(t.bikesavailable),slotsavailable:n(t.slotsavailable),bikesavailable:n(t.bikesavailable),district:t.district}}return e(o,i,r)}o.$inject=["$q","DataView","BikeStationsData"],e.exports=o},{}],7:[function(t,e){"use strict";function n(t){return t.data.opendata.answer.data}function o(t){return t}function i(t,e,i,r){this.get=function(){function a(t){var e=(i||n)(t);angular.isArray(e)&&(e=e.map(r||o)),s.resolve(e)}var s=t.defer();return e.get().then(a,s.reject),s.promise},this.getById=function(e){function n(t){t.forEach(function(t){e===t.id&&o.resolve(t)}),o.reject()}var o=t.defer();return this.get().then(n,o.reject),o.promise}}function r(t){return function(e,n,o){return new i(t,e,n,o)}}r.$inject=["$q"],e.exports=r},{}],8:[function(t,e){"use strict";function n(t,e,n){return e(n)}n.$inject=["$q","DataView","LinesData"],e.exports=n},{}],9:[function(t,e){"use strict";var n=t("./factory/data-view"),o=t("./factory/bike-stations"),i=t("./factory/lines");e.exports=angular.module("velocity.data-view",["velocity.data"]).factory("DataView",n).factory("BikeStationsDataView",o).factory("LinesDataView",i)},{"./factory/bike-stations":6,"./factory/data-view":7,"./factory/lines":8}],10:[function(t,e){"use strict";function n(t,e){var n=t.$get();e.setStrategy(n.sessionStorage)}n.$inject=["$windowProvider","CacheStorageProvider"],e.exports=n},{}],11:[function(t,e){"use strict";e.exports={url:"http://data.keolis-rennes.com/json/",version:"2.0",key:"618UNE6MRZ1E43L"}},{}],12:[function(t,e){"use strict";function n(t,e,n){function o(t,e){var n=angular.extend({},i,{cmd:t});return angular.forEach(e,function(t,e){n["param["+e+"]"]=t}),n}var i={version:n.version,key:n.key};return function(i,r){return t({url:n.url,method:"GET",params:o(i,r),cache:e})}}n.$inject=["$http","HttpCache","OpenDataApi"],e.exports=n},{}],13:[function(t,e){"use strict";function n(t){return t("velocity:http-cache")}n.$inject=["CacheStorage"],e.exports=n},{}],14:[function(t,e){"use strict";var n=t("./config/cache"),o=t("./constant/api"),i=t("./factory/http-cache"),r=t("./factory/api-request"),a=t("./service/bike-districts"),s=t("./service/bike-stations"),c=t("./service/lines");e.exports=angular.module("velocity.data",["ngResource","velocity.common"]).config(n).constant("OpenDataApi",o).factory("HttpCache",i).factory("ApiRequest",r).service("BikeDistrictsData",a).service("BikeStationsData",s).service("LinesData",c)},{"./config/cache":10,"./constant/api":11,"./factory/api-request":12,"./factory/http-cache":13,"./service/bike-districts":15,"./service/bike-stations":16,"./service/lines":17}],15:[function(t,e){"use strict";function n(t){this.get=function(){return t("getbikedistricts")}}n.$inject=["ApiRequest"],e.exports=n},{}],16:[function(t,e){"use strict";function n(t){this.get=function(){return t("getbikestations")}}n.$inject=["ApiRequest"],e.exports=n},{}],17:[function(t,e){"use strict";function n(t){this.get=function(){return t("getlines",{size:100})}}n.$inject=["ApiRequest"],e.exports=n},{}],18:[function(t,e){"use strict";function n(t,e){t.when("/welcome",{templateUrl:"views/welcome.html",controller:"WelcomeController as ctrl"}).when("/bike-stations",{templateUrl:"views/bike-stations.html",controller:"BikeStationsController as ctrl"}).when("/bike-stations/:id",{templateUrl:"views/bike-station-detail.html",controller:"BikeStationDetailController as ctrl"}).when("/lines",{templateUrl:"views/lines.html",controller:"LinesController as ctrl"}).otherwise({redirectTo:"/welcome"}),e.html5Mode(!1)}n.$inject=["$routeProvider","$locationProvider"],e.exports=n},{}],19:[function(t,e){"use strict";function n(t,e,n,o){function i(){o.getCurrentPosition().then(function(e){var n=e.coords,o=new google.maps.LatLng(n.latitude,n.longitude);t.map.setCenter(o),t.markers.push(new google.maps.Marker({map:t.map,position:o,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png"}))})}t.station={},t.map={},t.options={zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},t.markers=[],n.getById(e.id).then(function(e){var n=new google.maps.LatLng(e.latitude,e.longitude);t.station=e,t.map.panTo(n),t.markers.push(new google.maps.Marker({map:t.map,position:n,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png"}))}),this.geolocalize=i}n.$inject=["$scope","$routeParams","BikeStationsDataView","Geolocation"],e.exports=n},{}],20:[function(t,e){"use strict";function n(t,e){t.stations=[],e.get().then(function(e){t.stations=e})}n.$inject=["$scope","BikeStationsDataView"],e.exports=n},{}],21:[function(t,e){"use strict";function n(t,e){t.lines=[],t.baseUrl="",e.get().then(function(e){t.baseUrl=e.baseurl,t.lines=e.line})}n.$inject=["$scope","LinesDataView"],e.exports=n},{}],22:[function(t,e){"use strict";function n(t){t.links=[]}n.$inject=["$scope"],e.exports=n},{}],23:[function(t,e){"use strict";function n(t){t.appVersion=o.version}var o=t("../../../../../package");n.$inject=["$scope"],e.exports=n},{"../../../../../package":25}],24:[function(t,e){"use strict";var n=t("./config/route"),o=t("./controller/navigation"),i=t("./controller/welcome"),r=t("./controller/bike-stations"),a=t("./controller/bike-station-detail"),s=t("./controller/lines");e.exports=angular.module("velocity.view",["ngRoute","ngTouch","ui.map","velocity.common","velocity.data-view"]).config(n).controller("NavigationController",o).controller("WelcomeController",i).controller("BikeStationsController",r).controller("BikeStationDetailController",a).controller("LinesController",s)},{"./config/route":18,"./controller/bike-station-detail":19,"./controller/bike-stations":20,"./controller/lines":21,"./controller/navigation":22,"./controller/welcome":23}],25:[function(t,e){e.exports={name:"velocity",version:"0.0.3",repository:{type:"git",url:"https://github.com/ghoullier/velocity.git"},scripts:{postinstall:"bower install",postupdate:"bower update",start:"gulp"},devDependencies:{bower:"~1.3.9",browserify:"~3.46.0","connect-livereload":"~0.4.0",express:"~4.1.1",gulp:"~3.8.6","gulp-angular-templatecache":"^1.3.0","gulp-autoprefixer":"0.0.7","gulp-browserify":"~0.5.0","gulp-concat":"~2.2.0","gulp-embedlr":"~0.5.2","gulp-gh-pages":"^0.3.3","gulp-htmlmin":"^0.2.0","gulp-jshint":"~1.5.5","gulp-livereload":"~1.3.1","gulp-ng-annotate":"^0.2.0","gulp-plumber":"^0.6.5","gulp-sass":"~0.7.1","gulp-uglify":"^0.3.1","gulp-util":"~2.2.14",minimist:"^1.1.0","tiny-lr":"0.0.7"},engines:{node:">=0.10.0"},license:"MIT"}},{}]},{},[1]);
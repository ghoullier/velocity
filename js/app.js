!function e(t,i,n){function o(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e){"use strict";e("./modules/common/module"),e("./modules/data/module"),e("./modules/data-view/module"),e("./modules/templates/module"),e("./modules/view/module")},{"./modules/common/module":3,"./modules/data-view/module":7,"./modules/data/module":13,"./modules/templates/module":19,"./modules/view/module":27}],2:[function(e,t){t.exports={name:"velocity",version:"0.1.0",repository:{type:"git",url:"https://github.com/ghoullier/velocity.git"},author:{name:"Grégory Houllier",url:"https://twitter.com/ghoullier"},keywords:["angular","devstack","livereload","browserify"],scripts:{postinstall:"node ./node_modules/bower/bin/bower install",postupdate:"node ./node_modules/bower/bin/bower update",prestart:"npm install",start:"node ./node_modules/gulp/bin/gulp.js develop",prebuild:"npm install",build:"node ./node_modules/gulp/bin/gulp.js build --production",predeploy:"npm run build",deploy:"node ./node_modules/gulp/bin/gulp.js publish --production","preupdate-webdriver":"npm install","update-webdriver":"webdriver-manager update",protractor:"protractor tests/e2e/protractor.conf.js"},devDependencies:{"6to5-browserify":"^1.2.0",bower:"^1.3.12",browserify:"^7.0.0","browserify-ngannotate":"^0.4.0",compression:"^1.2.1","connect-livereload":"^0.5.2",del:"^1.0.0",express:"^4.10.4",gulp:"^3.8.10","gulp-angular-templatecache":"^1.4.2","gulp-autoprefixer":"2.0.0","gulp-concat":"^2.4.2","gulp-embedlr":"^0.5.2","gulp-htmlmin":"^0.2.0","gulp-gh-pages":"^0.4.0","gulp-jshint":"^1.9.0","gulp-livereload":"^2.1.0","gulp-plumber":"^0.6.6","gulp-rename":"^1.2.0","gulp-sass":"^1.2.4","gulp-sourcemaps":"^1.2.8","gulp-uglify":"^1.0.1","gulp-util":"^3.0.1",minimist:"^1.1.0","tiny-lr":"0.1.4","vinyl-source-stream2":"^0.1.1"},engines:{node:">=0.10.0"},license:"MIT"}},{}],3:[function(e,t,i){"use strict";var n=e("./providers/cache-storage")["default"],o=e("./services/geolocation")["default"],r=e("./services/logger")["default"];i["default"]=angular.module("velocity.common",[]).provider("CacheStorage",n).factory("Geolocation",o).factory("Logger",r)},{"./providers/cache-storage":4,"./services/geolocation":5,"./services/logger":6}],4:[function(e,t,i){"use strict";function n(){function e(e){n=e}function t(e,t){function i(){l||(l=!0,e(function(){n.setItem(r,JSON.stringify(a)),l=!1},0))}function o(e){var t=e in a?a[e]:{},n=angular.extend({},{id:e});a[e]=t;var o={put:function(e,n){return t[e]=n,i(),n},get:function(e){return t[e]},remove:function(e){delete t[e],i()},removeAll:function(){t={},i()},destroy:function(){t=null,n=null,delete s[e],delete a[e],i()},info:function(){return angular.extend({},n)}};return s[e]=o,o}null===n&&this.setStrategy(t.localStorage);var r="ng:storage",a=n.getItem(r)?JSON.parse(n.getItem(r)):{},s={},l=!1;return o.info=function(){var e={};return angular.forEach(s,function(t,i){e[i]=t.info()}),e},o.get=function(e){return s[e]},o}var i=this,n=null;i.$get=t,i.setStrategy=e,t.$inject=["$timeout","$window"]}i["default"]=n},{}],5:[function(e,t,i){"use strict";function n(e,t){function i(){var i=e.defer();return t.navigator.geolocation.getCurrentPosition(i.resolve,i.reject),i.promise}var n={getCurrentPosition:i};return n}n.$inject=["$q","$window"],i["default"]=n},{}],6:[function(e,t,i){"use strict";function n(e){function t(t){e.log(t.name)}var i={trace:t};return i}n.$inject=["$log"],i["default"]=n},{}],7:[function(e,t,i){"use strict";var n=e("./services/data-view")["default"],o=e("./services/bike-stations")["default"],r=e("./services/lines")["default"];i["default"]=angular.module("velocity.data-view",["velocity.data"]).factory("DataView",n).factory("BikeStationsDataView",o).factory("LinesDataView",r)},{"./services/bike-stations":8,"./services/data-view":9,"./services/lines":10}],8:[function(e,t,i){"use strict";function n(e){return parseInt(e,10)}function o(e,t){function i(e){return e.data.opendata.answer.data.station}function o(e){return{id:e.number,latitude:e.latitude,longitude:e.longitude,name:e.name,totalslots:n(e.slotsavailable)+n(e.bikesavailable),slotsavailable:n(e.slotsavailable),bikesavailable:n(e.bikesavailable),district:e.district}}return e(t,i,o)}o.$inject=["DataView","BikeStationsData"],i["default"]=o},{}],9:[function(e,t,i){"use strict";function n(e){return e.data.opendata.answer.data}function o(e){return e}function r(e,t,i,r){this.get=function(a){function s(e){var t=(i||n)(e);angular.isArray(t)&&(t=t.map(r||o)),l.resolve(t)}var l=e.defer();return t.get(a).then(s,l.reject),l.promise},this.getById=function(t){function i(e){e.forEach(function(e){t===e.id&&n.resolve(e)}),n.reject()}var n=e.defer();return this.get().then(i,n.reject),n.promise}}function a(e){return function(t,i,n){return new r(e,t,i,n)}}a.$inject=["$q"],i["default"]=a},{}],10:[function(e,t,i){"use strict";function n(e,t){return e(t)}n.$inject=["DataView","LinesData"],i["default"]=n},{}],11:[function(e,t,i){"use strict";function n(e,t){var i=e.$get();t.setStrategy(i.sessionStorage)}n.$inject=["$windowProvider","CacheStorageProvider"],i["default"]=n},{}],12:[function(e,t,i){"use strict";i["default"]={url:"http://data.keolis-rennes.com/json/",version:"2.0",key:"618UNE6MRZ1E43L"}},{}],13:[function(e,t,i){"use strict";var n=e("./config/cache")["default"],o=e("./constant/api")["default"],r=e("./services/http-cache")["default"],a=e("./services/api-service")["default"],s=e("./services/bike-districts")["default"],l=e("./services/bike-stations")["default"],u=e("./services/lines")["default"];i["default"]=angular.module("velocity.data",["ngResource","velocity.common"]).config(n).constant("OpenDataApi",o).factory("HttpCache",r).factory("ApiService",a).factory("BikeDistrictsData",s).factory("BikeStationsData",l).factory("LinesData",u)},{"./config/cache":11,"./constant/api":12,"./services/api-service":14,"./services/bike-districts":15,"./services/bike-stations":16,"./services/http-cache":17,"./services/lines":18}],14:[function(e,t,i){"use strict";function n(e,t,i){function n(n){return{get:function(r){return e({url:i.url,method:"GET",params:o(n,r),cache:t})}}}function o(e,t){var n={version:i.version,key:i.key},o=angular.extend({},n,{cmd:e});return angular.forEach(t,function(e,t){o["param["+t+"]"]=e}),o}return n}n.$inject=["$http","HttpCache","OpenDataApi"],i["default"]=n},{}],15:[function(e,t,i){"use strict";function n(e){return e("getbikedistricts")}n.$inject=["ApiService"],i["default"]=n},{}],16:[function(e,t,i){"use strict";function n(e){return e("getbikestations")}n.$inject=["ApiService"],i["default"]=n},{}],17:[function(e,t,i){"use strict";function n(e){return e("velocity:http-cache")}n.$inject=["CacheStorage"],i["default"]=n},{}],18:[function(e,t,i){"use strict";function n(e){return e("getlines")}n.$inject=["ApiService"],i["default"]=n},{}],19:[function(){"use strict"},{}],20:[function(e,t,i){"use strict";i["default"]=[{url:"/welcome",title:"Welcome",templateUrl:"partials/views/welcome/index.html",controller:"Welcome as vm",otherwise:!0},{url:"/bike-stations",title:"Liste des stations de vélos",templateUrl:"partials/views/bike-stations/list.html",controller:"BikeStations as vm",resolve:{stations:["BikeStationsDataView",function(e){return e.get()}]}},{url:"/bike-stations/:id",title:"Détail d'une station de vélo",templateUrl:"partials/views/bike-stations/detail.html",controller:"BikeStationDetail as vm",params:["id"]},{url:"/lines",title:"Lignes de bus",templateUrl:"partials/views/lines/list.html",controller:"Lines as vm"}]},{}],21:[function(e,t,i){"use strict";function n(e,t){o.forEach(function(t){e.when(t.url,{templateUrl:t.templateUrl,controller:t.controller,resolve:t.resolve}),t.otherwise&&e.otherwise({redirectTo:t.url})}),t.html5Mode(!1)}var o=e("./routes")["default"];n.$inject=["$routeProvider","$locationProvider"],i["default"]=n},{"./routes":20}],22:[function(e,t,i){"use strict";function n(e,t,i){function n(){i.getCurrentPosition().then(function(e){var t=e.coords,i=new google.maps.LatLng(t.latitude,t.longitude);o.map.setCenter(i),o.markers.push(new google.maps.Marker({map:o.map,position:i,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png"}))})}var o=this;o.station={},o.map={},o.options={zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},o.markers=[],o.geolocalize=n,t.getById(e.id).then(function(e){var t=new google.maps.LatLng(e.latitude,e.longitude);o.station=e,o.map.panTo(t),o.markers.push(new google.maps.Marker({map:o.map,position:t,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png"}))})}n.$inject=["$routeParams","BikeStationsDataView","Geolocation"],i["default"]=n},{}],23:[function(e,t,i){"use strict";function n(e,t){var i=this;i.stations=t}n.$inject=["BikeStationsDataView","stations"],i["default"]=n},{}],24:[function(e,t,i){"use strict";function n(e){var t=this;t.lines=[],t.baseUrl="",e.get({size:100}).then(function(e){t.baseUrl=e.baseurl,t.lines=e.line})}n.$inject=["LinesDataView"],i["default"]=n},{}],25:[function(e,t,i){"use strict";function n(){var e=this;e.links=o.filter(function(e){return!e.params}).map(function(e){return{title:e.title,url:e.url}})}var o=e("../config/routes")["default"];i["default"]=n},{"../config/routes":20}],26:[function(e,t,i){"use strict";function n(){var e=this;e.appVersion=o.version}var o=e("../../../../../package");i["default"]=n},{"../../../../../package":2}],27:[function(e,t,i){"use strict";var n=e("./config/routing")["default"],o=e("./controller/navigation")["default"],r=e("./controller/welcome")["default"],a=e("./controller/bike-stations")["default"],s=e("./controller/bike-station-detail")["default"],l=e("./controller/lines")["default"];i["default"]=angular.module("velocity.view",["ngRoute","ngTouch","ui.map","velocity.common","velocity.data-view","velocity.templates"]).config(n).controller("Navigation",o).controller("Welcome",r).controller("BikeStations",a).controller("BikeStationDetail",s).controller("Lines",l)},{"./config/routing":21,"./controller/bike-station-detail":22,"./controller/bike-stations":23,"./controller/lines":24,"./controller/navigation":25,"./controller/welcome":26}]},{},[1]);
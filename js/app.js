!function t(e,i,n){function o(s,r){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return o(i?i:t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t){"use strict";t("./modules/common/module"),t("./modules/data/module"),t("./modules/data-view/module"),t("./modules/templates/module"),t("./modules/view/module")},{"./modules/common/module":3,"./modules/data-view/module":9,"./modules/data/module":17,"./modules/templates/module":18,"./modules/view/module":26}],2:[function(t,e){"use strict";function i(t){function e(e){t.log(e.name)}return{trace:e}}i.$inject=["$log"],e.exports=i},{}],3:[function(t,e){"use strict";e.exports=angular.module("velocity.common",[]).provider("CacheStorage",t("./provider/cache-storage")).service("Geolocation",t("./service/geolocation")).factory("Tracer",t("./factory/tracer"))},{"./factory/tracer":2,"./provider/cache-storage":4,"./service/geolocation":5}],4:[function(t,e){"use strict";function i(){var t=null;this.setStrategy=function(e){t=e},this.$get=function(e,i){function n(){l||(l=!0,e(function(){t.setItem(a,JSON.stringify(s)),l=!1},0))}function o(t){var e=t in s?s[t]:{},i=angular.extend({},{id:t});s[t]=e;var o={put:function(t,i){return e[t]=i,n(),i},get:function(t){return e[t]},remove:function(t){delete e[t],n()},removeAll:function(){e={},n()},destroy:function(){e=null,i=null,delete r[t],delete s[t],n()},info:function(){return angular.extend({},i)}};return r[t]=o,o}null===t&&this.setStrategy(i.localStorage);var a="ng:storage",s=t.getItem(a)?JSON.parse(t.getItem(a)):{},r={},l=!1;return o.info=function(){var t={};return angular.forEach(r,function(e,i){t[i]=e.info()}),t},o.get=function(t){return r[t]},o},this.$get.$inject=["$timeout","$window"]}e.exports=i},{}],5:[function(t,e){"use strict";function i(t,e){this.getCurrentPosition=function(){var i=t.defer();return e.navigator.geolocation.getCurrentPosition(i.resolve,i.reject),i.promise}}i.$inject=["$q","$window"],e.exports=i},{}],6:[function(t,e){"use strict";function i(t){return parseInt(t,10)}function n(t,e,n){function o(t){return t.data.opendata.answer.data.station}function a(t){return{id:t.number,latitude:t.latitude,longitude:t.longitude,name:t.name,totalslots:i(t.slotsavailable)+i(t.bikesavailable),slotsavailable:i(t.slotsavailable),bikesavailable:i(t.bikesavailable),district:t.district}}return e(n,o,a)}n.$inject=["$q","DataView","BikeStationsData"],e.exports=n},{}],7:[function(t,e){"use strict";function i(t){return t.data.opendata.answer.data}function n(t){return t}function o(t,e,o,a){this.get=function(s){function r(t){var e=(o||i)(t);angular.isArray(e)&&(e=e.map(a||n)),l.resolve(e)}var l=t.defer();return e.get(s).then(r,l.reject),l.promise},this.getById=function(e){function i(t){t.forEach(function(t){e===t.id&&n.resolve(t)}),n.reject()}var n=t.defer();return this.get().then(i,n.reject),n.promise}}function a(t){return function(e,i,n){return new o(t,e,i,n)}}a.$inject=["$q"],e.exports=a},{}],8:[function(t,e){"use strict";function i(t,e,i){return e(i)}i.$inject=["$q","DataView","LinesData"],e.exports=i},{}],9:[function(t,e){"use strict";e.exports=angular.module("velocity.data-view",["velocity.data"]).factory("DataView",t("./factory/data-view")).factory("BikeStationsDataView",t("./factory/bike-stations")).factory("LinesDataView",t("./factory/lines"))},{"./factory/bike-stations":6,"./factory/data-view":7,"./factory/lines":8}],10:[function(t,e){"use strict";function i(t,e){var i=t.$get();e.setStrategy(i.sessionStorage)}i.$inject=["$windowProvider","CacheStorageProvider"],e.exports=i},{}],11:[function(t,e){"use strict";e.exports={url:"http://data.keolis-rennes.com/json/",version:"2.0",key:"618UNE6MRZ1E43L"}},{}],12:[function(t,e){"use strict";function i(t,e,i){function n(t,e){var i=angular.extend({},o,{cmd:t});return angular.forEach(e,function(t,e){i["param["+e+"]"]=t}),i}var o={version:i.version,key:i.key};return function(o){return{get:function(a){return t({url:i.url,method:"GET",params:n(o,a),cache:e})}}}}i.$inject=["$http","HttpCache","OpenDataApi"],e.exports=i},{}],13:[function(t,e){"use strict";function i(t){return t("getbikedistricts")}i.$inject=["ApiService"],e.exports=i},{}],14:[function(t,e){"use strict";function i(t){return t("getbikestations")}i.$inject=["ApiService"],e.exports=i},{}],15:[function(t,e){"use strict";function i(t){return t("velocity:http-cache")}i.$inject=["CacheStorage"],e.exports=i},{}],16:[function(t,e){"use strict";function i(t){return t("getlines")}i.$inject=["ApiService"],e.exports=i},{}],17:[function(t,e){"use strict";e.exports=angular.module("velocity.data",["ngResource","velocity.common"]).config(t("./config/cache")).constant("OpenDataApi",t("./constant/api")).factory("HttpCache",t("./factory/http-cache")).factory("ApiService",t("./factory/api-service")).service("BikeDistrictsData",t("./factory/bike-districts")).service("BikeStationsData",t("./factory/bike-stations")).service("LinesData",t("./factory/lines"))},{"./config/cache":10,"./constant/api":11,"./factory/api-service":12,"./factory/bike-districts":13,"./factory/bike-stations":14,"./factory/http-cache":15,"./factory/lines":16}],18:[function(t,e){e.exports=angular.module("velocity.templates",[]).run(["$templateCache",function(t){t.put("views/bike-station-detail.html",'<h1>Station {{vm.station.name}}</h1><h3>Quartier {{vm.station.district}}</h3><div><label for="slots_available_{{vm.station.id}}"><span>Places disponibles :</span><meter id="slots_available_{{vm.station.id}}" min="0" optimum="{{(vm.station.totalslots)/2}}" low="{{(vm.station.totalslots)*1/4}}" high="{{(vm.station.totalslots)*3/4}}" max="{{vm.station.totalslots}}" value="{{vm.station.slotsavailable}}">{{vm.station.slotsavailable}}</meter></label></div><div><label for="bikes_available_{{vm.station.id}}"><span>Vélos disponibles :</span><meter id="bikes_available_{{vm.station.id}}" min="0" optimum="{{(vm.station.totalslots)/2}}" low="{{(vm.station.totalslots)*1/4}}" high="{{(vm.station.totalslots)*3/4}}" max="{{vm.station.totalslots}}" value="{{vm.station.bikesavailable}}">{{vm.station.bikesavailable}}</meter></label></div><nav><button data-ng-click="vm.geolocalize()">Geolocalize</button></nav><section id="map"><div class="map" data-ui-map="vm.map" data-ui-options="vm.options"></div></section>'),t.put("views/bike-stations.html",'<h1>Stations de vélos</h1><ul><li data-ng-repeat="station in vm.stations"><a data-ng-href="#/bike-stations/{{station.id}}"><span>{{station.id}}</span> <span>{{station.name}}</span> <span>{{station.slotsavailable}}</span>/<span>{{station.bikesavailable}}</span></a></li></ul>'),t.put("views/lines.html",'<h1>Lignes de bus</h1><ul><li data-ng-repeat="line in vm.lines"><a data-ng-href="#/lines"><img data-ng-src="{{vm.baseUrl}}{{line.picto}}" title="Ligne {{line.name}}"></a></li></ul>'),t.put("views/welcome.html",'<h1>Welcome in velocity app. <span class="Application__Version">v{{vm.appVersion}}</span></h1><section class="Feature"><h3 class="Feature__Title">Velocity features</h3><ul class="Feature__List"><li class="Feature__Item"><span class="Feature__Version">v0.0.1</span> <span>Bike station list page</span></li><li class="Feature__Item"><span class="Feature__Version">v0.0.1</span> <span>Bike station detail page</span></li><li class="Feature__Item"><span class="Feature__Version">v0.0.2</span> <span>Session storage based HTTP cache</span></li><li class="Feature__Item"><span class="Feature__Version">v0.0.3</span> <span>Line list page</span></li></ul></section>')}])},{}],19:[function(t,e){"use strict";e.exports=[{url:"/welcome",title:"Welcome",templateUrl:"views/welcome.html",controller:"Welcome as vm",otherwise:!0},{url:"/bike-stations",title:"Liste des stations de vélos",templateUrl:"views/bike-stations.html",controller:"BikeStations as vm"},{url:"/bike-stations/:id",title:"Détail d'une station de vélo",templateUrl:"views/bike-station-detail.html",controller:"BikeStationDetail as vm",params:["id"]},{url:"/lines",title:"Lignes de bus",templateUrl:"views/lines.html",controller:"Lines as vm"}]},{}],20:[function(t,e){"use strict";function i(t,e){n.forEach(function(e){t.when(e.url,{templateUrl:e.templateUrl,controller:e.controller}),e.otherwise&&t.otherwise({redirectTo:e.url})}),e.html5Mode(!1)}var n=t("./routes");i.$inject=["$routeProvider","$locationProvider"],e.exports=i},{"./routes":19}],21:[function(t,e){"use strict";function i(t,e,i){function n(){i.getCurrentPosition().then(function(t){var e=t.coords,i=new google.maps.LatLng(e.latitude,e.longitude);o.map.setCenter(i),o.markers.push(new google.maps.Marker({map:o.map,position:i,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png"}))})}var o=this;o.station={},o.map={},o.options={zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},o.markers=[],o.geolocalize=n,e.getById(t.id).then(function(t){var e=new google.maps.LatLng(t.latitude,t.longitude);o.station=t,o.map.panTo(e),o.markers.push(new google.maps.Marker({map:o.map,position:e,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png"}))})}i.$inject=["$routeParams","BikeStationsDataView","Geolocation"],e.exports=i},{}],22:[function(t,e){"use strict";function i(t){var e=this;e.stations=[],t.get().then(function(t){e.stations=t})}i.$inject=["BikeStationsDataView"],e.exports=i},{}],23:[function(t,e){"use strict";function i(t){var e=this;e.lines=[],e.baseUrl="",t.get({size:100}).then(function(t){e.baseUrl=t.baseurl,e.lines=t.line})}i.$inject=["LinesDataView"],e.exports=i},{}],24:[function(t,e){"use strict";function i(){var t=this;t.links=n.filter(function(t){return!t.params}).map(function(t){return{title:t.title,url:t.url}})}var n=t("../config/routes");e.exports=i},{"../config/routes":19}],25:[function(t,e){"use strict";function i(){var t=this;t.appVersion=n.version}var n=t("../../../../../package");e.exports=i},{"../../../../../package":27}],26:[function(t,e){"use strict";e.exports=angular.module("velocity.view",["ngRoute","ngTouch","ui.map","velocity.common","velocity.data-view","velocity.templates"]).config(t("./config/routing")).controller("Navigation",t("./controller/navigation")).controller("Welcome",t("./controller/welcome")).controller("BikeStations",t("./controller/bike-stations")).controller("BikeStationDetail",t("./controller/bike-station-detail")).controller("Lines",t("./controller/lines"))},{"./config/routing":20,"./controller/bike-station-detail":21,"./controller/bike-stations":22,"./controller/lines":23,"./controller/navigation":24,"./controller/welcome":25}],27:[function(t,e){e.exports={name:"velocity",version:"0.0.3",repository:{type:"git",url:"https://github.com/ghoullier/velocity.git"},author:{name:"Grégory Houllier",url:"https://twitter.com/ghoullier"},keywords:["angular","devstack","livereload","browserify"],scripts:{postinstall:"node ./node_modules/bower/bin/bower install",postupdate:"node ./node_modules/bower/bin/bower update",prestart:"npm install",start:"node ./node_modules/gulp/bin/gulp.js",prebuild:"npm install",build:"node ./node_modules/gulp/bin/gulp.js build --production",predeploy:"npm run build",deploy:"node ./node_modules/gulp/bin/gulp.js publish","preupdate-webdriver":"npm install","update-webdriver":"webdriver-manager update",protractor:"protractor e2e-tests/protractor.conf.js"},devDependencies:{bower:"^1.3.12",browserify:"^6.0.2","browserify-ngannotate":"^0.2.0","connect-livereload":"~0.4.0",del:"^0.1.3",express:"^4.9.5",gulp:"~3.8.6","gulp-angular-templatecache":"^1.3.0","gulp-autoprefixer":"0.0.7","gulp-concat":"^2.4.1","gulp-embedlr":"~0.5.2","gulp-gh-pages":"^0.4.0","gulp-htmlmin":"^0.2.0","gulp-jshint":"^1.8.5","gulp-livereload":"^1.5.0","gulp-plumber":"^0.6.5","gulp-rename":"^1.2.0","gulp-sass":"^0.7.3","gulp-uglify":"^0.3.2","gulp-util":"^2.2.20",minimist:"^1.1.0","tiny-lr":"0.0.7","vinyl-source-stream2":"^0.1.1"},engines:{node:">=0.10.0"},license:"MIT"}},{}]},{},[1]);
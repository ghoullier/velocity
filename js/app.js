!function t(e,i,n){function a(s,r){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return a(i?i:t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(t){"use strict";t("./modules/common/module"),t("./modules/data/module"),t("./modules/data-view/module"),t("./modules/templates/module"),t("./modules/view/module")},{"./modules/common/module":2,"./modules/data-view/module":6,"./modules/data/module":12,"./modules/templates/module":18,"./modules/view/module":26}],2:[function(t,e,i){"use strict";var n=t("./providers/cache-storage")["default"],a=t("./services/geolocation")["default"],o=t("./services/logger")["default"];i["default"]=angular.module("velocity.common",[]).provider("CacheStorage",n).factory("Geolocation",a).factory("Logger",o)},{"./providers/cache-storage":3,"./services/geolocation":4,"./services/logger":5}],3:[function(t,e,i){"use strict";function n(){function t(t){n=t}function e(t,e){function i(){l||(l=!0,t(function(){n.setItem(o,JSON.stringify(s)),l=!1},0))}function a(t){var e=t in s?s[t]:{},n=angular.extend({},{id:t});s[t]=e;var a={put:function(t,n){return e[t]=n,i(),n},get:function(t){return e[t]},remove:function(t){delete e[t],i()},removeAll:function(){e={},i()},destroy:function(){e=null,n=null,delete r[t],delete s[t],i()},info:function(){return angular.extend({},n)}};return r[t]=a,a}null===n&&this.setStrategy(e.localStorage);var o="ng:storage",s=n.getItem(o)?JSON.parse(n.getItem(o)):{},r={},l=!1;return a.info=function(){var t={};return angular.forEach(r,function(e,i){t[i]=e.info()}),t},a.get=function(t){return r[t]},a}var i=this,n=null;i.$get=e,i.setStrategy=t,e.$inject=["$timeout","$window"]}i["default"]=n},{}],4:[function(t,e,i){"use strict";function n(t,e){function i(){var i=t.defer();return e.navigator.geolocation.getCurrentPosition(i.resolve,i.reject),i.promise}var n={getCurrentPosition:i};return n}n.$inject=["$q","$window"],i["default"]=n},{}],5:[function(t,e,i){"use strict";function n(t){function e(e){t.log(e.name)}var i={trace:e};return i}n.$inject=["$log"],i["default"]=n},{}],6:[function(t,e,i){"use strict";var n=t("./services/data-view")["default"],a=t("./services/bike-stations")["default"],o=t("./services/lines")["default"];i["default"]=angular.module("velocity.data-view",["velocity.data"]).factory("DataView",n).factory("BikeStationsDataView",a).factory("LinesDataView",o)},{"./services/bike-stations":7,"./services/data-view":8,"./services/lines":9}],7:[function(t,e,i){"use strict";function n(t){return parseInt(t,10)}function a(t,e){function i(t){return t.data.opendata.answer.data.station}function a(t){return{id:t.number,latitude:t.latitude,longitude:t.longitude,name:t.name,totalslots:n(t.slotsavailable)+n(t.bikesavailable),slotsavailable:n(t.slotsavailable),bikesavailable:n(t.bikesavailable),district:t.district}}return t(e,i,a)}a.$inject=["DataView","BikeStationsData"],i["default"]=a},{}],8:[function(t,e,i){"use strict";function n(t){return t.data.opendata.answer.data}function a(t){return t}function o(t,e,i,o){this.get=function(s){function r(t){var e=(i||n)(t);angular.isArray(e)&&(e=e.map(o||a)),l.resolve(e)}var l=t.defer();return e.get(s).then(r,l.reject),l.promise},this.getById=function(e){function i(t){t.forEach(function(t){e===t.id&&n.resolve(t)}),n.reject()}var n=t.defer();return this.get().then(i,n.reject),n.promise}}function s(t){return function(e,i,n){return new o(t,e,i,n)}}s.$inject=["$q"],i["default"]=s},{}],9:[function(t,e,i){"use strict";function n(t,e){return t(e)}n.$inject=["DataView","LinesData"],i["default"]=n},{}],10:[function(t,e,i){"use strict";function n(t,e){var i=t.$get();e.setStrategy(i.sessionStorage)}n.$inject=["$windowProvider","CacheStorageProvider"],i["default"]=n},{}],11:[function(t,e,i){"use strict";i["default"]={url:"http://data.keolis-rennes.com/json/",version:"2.0",key:"618UNE6MRZ1E43L"}},{}],12:[function(t,e,i){"use strict";var n=t("./config/cache")["default"],a=t("./constant/api")["default"],o=t("./services/http-cache")["default"],s=t("./services/api-service")["default"],r=t("./services/bike-districts")["default"],l=t("./services/bike-stations")["default"],u=t("./services/lines")["default"];i["default"]=angular.module("velocity.data",["ngResource","velocity.common"]).config(n).constant("OpenDataApi",a).factory("HttpCache",o).factory("ApiService",s).factory("BikeDistrictsData",r).factory("BikeStationsData",l).factory("LinesData",u)},{"./config/cache":10,"./constant/api":11,"./services/api-service":13,"./services/bike-districts":14,"./services/bike-stations":15,"./services/http-cache":16,"./services/lines":17}],13:[function(t,e,i){"use strict";function n(t,e,i){function n(n){return{get:function(o){return t({url:i.url,method:"GET",params:a(n,o),cache:e})}}}function a(t,e){var n={version:i.version,key:i.key},a=angular.extend({},n,{cmd:t});return angular.forEach(e,function(t,e){a["param["+e+"]"]=t}),a}return n}n.$inject=["$http","HttpCache","OpenDataApi"],i["default"]=n},{}],14:[function(t,e,i){"use strict";function n(t){return t("getbikedistricts")}n.$inject=["ApiService"],i["default"]=n},{}],15:[function(t,e,i){"use strict";function n(t){return t("getbikestations")}n.$inject=["ApiService"],i["default"]=n},{}],16:[function(t,e,i){"use strict";function n(t){return t("velocity:http-cache")}n.$inject=["CacheStorage"],i["default"]=n},{}],17:[function(t,e,i){"use strict";function n(t){return t("getlines")}n.$inject=["ApiService"],i["default"]=n},{}],18:[function(t,e){"use strict";e.exports=angular.module("velocity.templates",[]).run(["$templateCache",function(t){t.put("views/bike-stations/detail.html",'<h1>Station {{vm.station.name}}</h1><h3>Quartier {{vm.station.district}}</h3><div><label for="slots_available_{{vm.station.id}}"><span>Places disponibles :</span><meter id="slots_available_{{vm.station.id}}" min="0" optimum="{{(vm.station.totalslots)/2}}" low="{{(vm.station.totalslots)*1/4}}" high="{{(vm.station.totalslots)*3/4}}" max="{{vm.station.totalslots}}" value="{{vm.station.slotsavailable}}">{{vm.station.slotsavailable}}</meter></label></div><div><label for="bikes_available_{{vm.station.id}}"><span>Vélos disponibles :</span><meter id="bikes_available_{{vm.station.id}}" min="0" optimum="{{(vm.station.totalslots)/2}}" low="{{(vm.station.totalslots)*1/4}}" high="{{(vm.station.totalslots)*3/4}}" max="{{vm.station.totalslots}}" value="{{vm.station.bikesavailable}}">{{vm.station.bikesavailable}}</meter></label></div><nav><button data-ng-click="vm.geolocalize()">Geolocalize</button></nav><section id="map"><div class="map" data-ui-map="vm.map" data-ui-options="vm.options"></div></section>'),t.put("views/bike-stations/list.html",'<h1>Stations de vélos</h1><ul><li data-ng-repeat="station in vm.stations"><a data-ng-href="#/bike-stations/{{station.id}}"><span>{{station.id}}</span> <span>{{station.name}}</span> <span>{{station.slotsavailable}}</span>/<span>{{station.bikesavailable}}</span></a></li></ul>'),t.put("views/lines/list.html",'<h1>Lignes de bus</h1><ul><li data-ng-repeat="line in vm.lines"><a data-ng-href="#/lines"><img data-ng-src="{{vm.baseUrl}}{{line.picto}}" title="Ligne {{line.name}}"></a></li></ul>'),t.put("views/welcome/index.html",'<h1>Welcome in velocity app. <span class="Application__Version">v{{vm.appVersion}}</span></h1><section class="Feature"><h3 class="Feature__Title">Velocity features</h3><ul class="Feature__List"><li class="Feature__Item"><span class="Feature__Version">v0.0.3</span> <span>Line list page</span></li><li class="Feature__Item"><span class="Feature__Version">v0.0.2</span> <span>Session storage based HTTP cache</span></li><li class="Feature__Item"><span class="Feature__Version">v0.0.1</span> <span>Bike station list page</span></li><li class="Feature__Item"><span class="Feature__Version">v0.0.1</span> <span>Bike station detail page</span></li></ul></section>')}])},{}],19:[function(t,e,i){"use strict";i["default"]=[{url:"/welcome",title:"Welcome",templateUrl:"views/welcome/index.html",controller:"Welcome as vm",otherwise:!0},{url:"/bike-stations",title:"Liste des stations de vélos",templateUrl:"views/bike-stations/list.html",controller:"BikeStations as vm",resolve:{stations:["BikeStationsDataView",function(t){return t.get()}]}},{url:"/bike-stations/:id",title:"Détail d'une station de vélo",templateUrl:"views/bike-stations/detail.html",controller:"BikeStationDetail as vm",params:["id"]},{url:"/lines",title:"Lignes de bus",templateUrl:"views/lines/list.html",controller:"Lines as vm"}]},{}],20:[function(t,e,i){"use strict";function n(t,e){a.forEach(function(e){t.when(e.url,{templateUrl:e.templateUrl,controller:e.controller,resolve:e.resolve}),e.otherwise&&t.otherwise({redirectTo:e.url})}),e.html5Mode(!1)}var a=t("./routes")["default"];n.$inject=["$routeProvider","$locationProvider"],i["default"]=n},{"./routes":19}],21:[function(t,e,i){"use strict";function n(t,e,i){function n(){i.getCurrentPosition().then(function(t){var e=t.coords,i=new google.maps.LatLng(e.latitude,e.longitude);a.map.setCenter(i),a.markers.push(new google.maps.Marker({map:a.map,position:i,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png"}))})}var a=this;a.station={},a.map={},a.options={zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},a.markers=[],a.geolocalize=n,e.getById(t.id).then(function(t){var e=new google.maps.LatLng(t.latitude,t.longitude);a.station=t,a.map.panTo(e),a.markers.push(new google.maps.Marker({map:a.map,position:e,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png"}))})}n.$inject=["$routeParams","BikeStationsDataView","Geolocation"],i["default"]=n},{}],22:[function(t,e,i){"use strict";function n(t,e){var i=this;i.stations=e}n.$inject=["BikeStationsDataView","stations"],i["default"]=n},{}],23:[function(t,e,i){"use strict";function n(t){var e=this;e.lines=[],e.baseUrl="",t.get({size:100}).then(function(t){e.baseUrl=t.baseurl,e.lines=t.line})}n.$inject=["LinesDataView"],i["default"]=n},{}],24:[function(t,e,i){"use strict";function n(){var t=this;t.links=a.filter(function(t){return!t.params}).map(function(t){return{title:t.title,url:t.url}})}var a=t("../config/routes")["default"];i["default"]=n},{"../config/routes":19}],25:[function(t,e,i){"use strict";function n(){var t=this;t.appVersion=a.version}var a=t("../../../../../package");i["default"]=n},{"../../../../../package":27}],26:[function(t,e,i){"use strict";var n=t("./config/routing")["default"],a=t("./controller/navigation")["default"],o=t("./controller/welcome")["default"],s=t("./controller/bike-stations")["default"],r=t("./controller/bike-station-detail")["default"],l=t("./controller/lines")["default"];i["default"]=angular.module("velocity.view",["ngRoute","ngTouch","ui.map","velocity.common","velocity.data-view","velocity.templates"]).config(n).controller("Navigation",a).controller("Welcome",o).controller("BikeStations",s).controller("BikeStationDetail",r).controller("Lines",l)},{"./config/routing":20,"./controller/bike-station-detail":21,"./controller/bike-stations":22,"./controller/lines":23,"./controller/navigation":24,"./controller/welcome":25}],27:[function(t,e){e.exports={name:"velocity",version:"0.1.0",repository:{type:"git",url:"https://github.com/ghoullier/velocity.git"},author:{name:"Grégory Houllier",url:"https://twitter.com/ghoullier"},keywords:["angular","devstack","livereload","browserify"],scripts:{postinstall:"node ./node_modules/bower/bin/bower install",postupdate:"node ./node_modules/bower/bin/bower update",prestart:"npm install",start:"node ./node_modules/gulp/bin/gulp.js",prebuild:"npm install",build:"node ./node_modules/gulp/bin/gulp.js build --production",predeploy:"npm run build",deploy:"node ./node_modules/gulp/bin/gulp.js publish","preupdate-webdriver":"npm install","update-webdriver":"webdriver-manager update",protractor:"protractor e2e-tests/protractor.conf.js"},devDependencies:{"6to5-browserify":"^1.2.0",bower:"^1.3.12",browserify:"^6.0.2","browserify-ngannotate":"^0.2.0","connect-livereload":"~0.4.0",del:"^0.1.3",express:"^4.9.5",gulp:"~3.8.6","gulp-angular-templatecache":"^1.3.0","gulp-autoprefixer":"0.0.7","gulp-concat":"^2.4.1","gulp-embedlr":"~0.5.2","gulp-gh-pages":"^0.4.0","gulp-htmlmin":"^0.2.0","gulp-jshint":"^1.8.5","gulp-livereload":"^1.5.0","gulp-plumber":"^0.6.5","gulp-rename":"^1.2.0","gulp-sass":"^0.7.3","gulp-uglify":"^0.3.2","gulp-util":"^2.2.20",minimist:"^1.1.0","tiny-lr":"0.0.7","vinyl-source-stream2":"^0.1.1"},engines:{node:">=0.10.0"},license:"MIT"}},{}]},{},[1]);